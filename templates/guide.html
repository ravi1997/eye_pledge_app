{% extends "base.html" %}
{% set active_page = "guide" %}

{% block title %}{{ _('Eye Donation Guide') }} - {{ _('Learn More') }}{% endblock %}

{% block hero_content %}
<section class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mt-12 mb-12">
    <!-- Hero Card -->
    <div class="relative bg-white rounded-[3rem] shadow-xl overflow-hidden animate-enter border border-slate-100">
        <!-- Subtle Pattern Background -->
        <div class="absolute inset-0 bg-gradient-to-br from-blue-50/50 via-white to-indigo-50/50"></div>
        <div class="absolute inset-0 opacity-[0.03] bg-[url('https://www.transparenttextures.com/patterns/cubes.png')]">
        </div>

        <div class="relative z-10 px-8 py-16 md:py-24 md:px-16 text-center">

            <span
                class="inline-flex items-center gap-2 px-3 py-1 rounded-full bg-brand-50 text-brand-700 font-bold text-xs uppercase tracking-wider mb-8 border border-brand-100">
                <i class="bi bi-book"></i> {{ _('Comprehensive Guide') }}
            </span>

            <h1 class="text-4xl md:text-6xl font-extrabold text-slate-900 mb-8 tracking-tight leading-tight">
                {{ _('Understanding') }}
                <span class="text-brand-600">{{ _('Eye Donation') }}</span>
            </h1>

            <p class="text-slate-600 text-lg md:text-xl leading-relaxed max-w-2xl mx-auto mb-16">
                {{ _('Your decision to pledge can bridge the gap between darkness and light. Learn how a simple act of
                kindness transforms lives forever.') }}
            </p>

            <!-- Key Info Box - High Contrast -->
            <div
                class="bg-white rounded-3xl shadow-md border border-slate-200 p-8 md:p-10 max-w-3xl mx-auto text-left transform transition-transform hover:scale-[1.01] duration-300 relative overflow-hidden">
                <div class="absolute top-0 left-0 w-2 h-full bg-brand-500"></div>
                <div class="flex flex-col md:flex-row gap-8 items-start">
                    <div
                        class="w-14 h-14 rounded-2xl bg-brand-100 text-brand-600 flex items-center justify-center shrink-0 text-2xl">
                        <i class="bi bi- megaphone-fill"></i>
                    </div>
                    <div>
                        <h3 class="text-xl font-bold text-slate-900 mb-3">{{ _('The Most Critical Step: Tell Your
                            Family') }}</h3>
                        <p class="text-slate-600 leading-relaxed text-base mb-6">
                            Pledging online is just the first step. In India, <span class="font-bold">the consent
                                of the next of kin
                                is
                                mandatory</span> at the time of donation, even if you have a donor card.
                        </p>
                        <div
                            class="inline-flex items-center gap-2 text-sm font-bold text-brand-700 bg-brand-50 px-4 py-2 rounded-xl border border-brand-100">
                            <i class="bi bi-check-circle-fill"></i>
                            Please inform your family members today.
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
{% endblock %}

{% block content %}
<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mt-16 pb-24 space-y-20">

    <!-- Process Timeline -->
    <section class="animate-enter delay-200">
        <div class="text-center mb-16">
            <h2 class="text-3xl font-bold text-slate-900 mb-3">{{ _('The Donation Process') }}</h2>
            <p class="text-slate-600 max-w-xl mx-auto">{{ _('A transparent look at what happens when you pledge.') }}
            </p>
        </div>

        <div class="relative max-w-4xl mx-auto">
            <!-- Timeline Line -->
            <div class="absolute left-8 md:left-1/2 top-4 bottom-4 w-0.5 bg-slate-200 -ml-px hidden md:block"></div>
            <!-- Mobile Line -->
            <div class="absolute left-6 top-4 bottom-4 w-0.5 bg-slate-200 -ml-px md:hidden"></div>

            <div class="space-y-12">
                <!-- Step 1 -->
                <div class="relative flex flex-col md:flex-row items-start md:items-center gap-8 group">
                    <div class="flex-1 md:text-right pr-6 md:pr-12 md:pl-0 pl-16">
                        <div
                            class="bg-white p-6 rounded-2xl shadow-sm border border-slate-100 hover:shadow-md transition-shadow relative z-10">
                            <span
                                class="absolute top-6 right-full mr-4 w-3 h-3 bg-slate-200 rotate-45 hidden md:block border-t border-r border-slate-100 bg-white"></span>
                            <!-- Arrow Fix -->
                            <h3 class="text-xl font-bold text-slate-900 mb-2">{{ _('1. Pledging') }}</h3>
                            <p class="text-slate-500 text-sm leading-relaxed">{{ _('You fill out the pledge form and
                                receive a donor card. Most importantly, you inform your family about your decision.') }}
                            </p>
                        </div>
                    </div>
                    <!-- Icon Node -->
                    <div
                        class="absolute right-6 md:right-1/2 -translate-x-1/2 w-10 h-10 rounded-full bg-brand-600 text-white flex items-center justify-center shadow-lg shadow-brand-200 z-10 border-4 border-white">
                        <span class="font-bold text-sm">1</span>
                    </div>
                    <div class="hidden md:block flex-1"></div>
                </div>

                <!-- Step 2 -->
                <div class="relative flex flex-col md:flex-row items-start md:items-center gap-8 group">
                    <div class="hidden md:block flex-1"></div>
                    <!-- Icon Node -->
                    <div
                        class="absolute left-6 md:left-1/2 -translate-x-1/2 w-10 h-10 rounded-full bg-brand-600 text-white flex items-center justify-center shadow-lg shadow-brand-200 z-10 border-4 border-white">
                        <span class="font-bold text-sm">2</span>
                    </div>
                    <div class="flex-1 md:pl-12 pl-16 pr-6">
                        <div
                            class="bg-white p-6 rounded-2xl shadow-sm border border-slate-100 hover:shadow-md transition-shadow">
                            <h3 class="text-xl font-bold text-slate-900 mb-2">{{ _('2. Time of Death') }}</h3>
                            <p class="text-slate-500 text-sm leading-relaxed">{{ _('When the donor passes away, the
                                family must contact the nearest Eye Bank or call 1919 within 6 hours.') }}</p>
                        </div>
                    </div>
                </div>

                <!-- Step 3 -->
                <div class="relative flex flex-col md:flex-row items-start md:items-center gap-8 group">
                    <div class="flex-1 md:text-right pr-6 md:pr-12 md:pl-0 pl-16">
                        <div
                            class="bg-white p-6 rounded-2xl shadow-sm border border-slate-100 hover:shadow-md transition-shadow">
                            <h3 class="text-xl font-bold text-slate-900 mb-2">{{ _('3. Retrieval') }}</h3>
                            <p class="text-slate-500 text-sm leading-relaxed">{{ _('Medical team visits the home or
                                hospital. The procedure takes only 15-20 minutes, is bloodless, and leaves no
                                disfigurement.') }}</p>
                        </div>
                    </div>
                    <div
                        class="absolute left-6 md:left-1/2 -translate-x-1/2 w-10 h-10 rounded-full bg-brand-600 text-white flex items-center justify-center shadow-lg shadow-brand-200 z-10 border-4 border-white">
                        <span class="font-bold text-sm">3</span>
                    </div>
                    <div class="hidden md:block flex-1"></div>
                </div>

                <!-- Step 4 -->
                <div class="relative flex flex-col md:flex-row items-start md:items-center gap-8 group">
                    <div class="hidden md:block flex-1"></div>
                    <div
                        class="absolute left-6 md:left-1/2 -translate-x-1/2 w-10 h-10 rounded-full bg-green-500 text-white flex items-center justify-center shadow-lg shadow-green-200 z-10 border-4 border-white">
                        <span class="font-bold text-sm">4</span>
                    </div>
                    <div class="flex-1 md:pl-12 pl-16 pr-6">
                        <div
                            class="bg-white p-6 rounded-2xl shadow-sm border border-slate-100 hover:shadow-md transition-shadow border-l-4 border-l-green-500">
                            <h3 class="text-xl font-bold text-slate-900 mb-2">{{ _('4. Restoration of Sight') }}</h3>
                            <p class="text-slate-500 text-sm leading-relaxed">{{ _('The corneas are processed and
                                transplanted to two blind patients, restoring their vision and giving them a new lease
                                on life.') }}</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>


    <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-start">

        <!-- Myths vs Facts -->
        <section class="animate-enter delay-300">
            <div class="flex items-center gap-3 mb-8">
                <i class="bi bi-lightbulb text-2xl text-yellow-500"></i>
                <h2 class="text-2xl font-bold text-slate-900">{{ _('Myths vs. Facts') }}</h2>
            </div>

            <div class="space-y-4">
                {% set myths = [
                ('Eye donation disfigures the face.', 'Not at all. The procedure is precise, leaves no scar, and
                respects the donor. Open casket funerals are possible.'),
                ('Old people cannot donate eyes.', 'Anyone can donate! Age is not a strict barrier. Even people with
                cataracts or glasses can donate.'),
                ('My family will be charged.', 'Eye donation is a 100% free, charitable act. There are no costs for the
                donor family.')
                ] %}

                {% for myth, fact in myths %}
                <div class="bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden">
                    <div class="px-5 py-3 bg-red-50 border-b border-red-100 flex items-center gap-3">
                        <span
                            class="text-xs font-bold text-red-600 bg-white border border-red-200 px-2 py-0.5 rounded uppercase">{{
                            _('Myth') }}</span>
                        <span class="font-semibold text-slate-900 text-sm">{{ _(myth) }}</span>
                    </div>
                    <div class="px-5 py-4 flex items-start gap-3">
                        <span
                            class="text-xs font-bold text-green-700 bg-green-50 border border-green-200 px-2 py-0.5 rounded uppercase mt-0.5">{{
                            _('Fact') }}</span>
                        <span class="text-slate-600 text-sm leading-relaxed">{{ _(fact) }}</span>
                    </div>
                </div>
                {% endfor %}
            </div>
        </section>

        <!-- Common Questions -->
        <section class="animate-enter delay-400">
            <div class="flex items-center gap-3 mb-8">
                <i class="bi bi-patch-question text-2xl text-blue-500"></i>
                <h2 class="text-2xl font-bold text-slate-900">{{ _('Common Questions') }}</h2>
            </div>

            <div class="space-y-3">
                {% set faqs = [
                ('Can I donate if I wear glasses?', 'Yes. Short-sightedness, long-sightedness, or astigmatism do not
                affect the cornea.'),
                ('Can I donate if I have had eye surgery?', 'Cataract surgery is fine. Major corneal surgeries might be
                an exclusion, but let the medical team decide.'),
                ('Who cannot donate eyes?', 'Systemic infections like HIV/AIDS, Hepatitis B/C, Rabies, or Septicemia are
                contraindications.')
                ] %}

                {% for q, a in faqs %}
                <details class="group bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden">
                    <summary
                        class="flex items-center justify-between p-5 cursor-pointer list-none hover:bg-slate-50 transition-colors">
                        <span class="font-semibold text-slate-900 text-sm">{{ _(q) }}</span>
                        <span class="transition-transform group-open:rotate-180 text-slate-400">
                            <i class="bi bi-chevron-down"></i>
                        </span>
                    </summary>
                    <div class="px-5 pb-5 text-slate-600 text-sm leading-relaxed border-t border-slate-100 pt-3">
                        {{ _(a) }}
                    </div>
                </details>
                {% endfor %}
            </div>
        </section>
    </div>

    <!-- Simple CTA -->
    <div class="animate-enter delay-500 text-center py-12">
        <h2 class="text-2xl font-bold text-slate-900 mb-4">{{ _('Ready to Leave a Legacy?') }}</h2>
        <a href="{{ url_for('pledge_form') }}"
            class="inline-flex items-center gap-2 bg-brand-600 text-white font-bold py-3.5 px-8 rounded-xl shadow-lg hover:bg-brand-700 hover:shadow-xl transition-all hover:-translate-y-0.5">
            <i class="bi bi-heart-fill"></i>
            {{ _('Pledge Your Eyes Now') }}
        </a>
    </div>

</div>
{% endblock %}