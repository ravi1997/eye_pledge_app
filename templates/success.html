{% extends "base.html" %}

{% block title %}Pledge Submitted Successfully{% endblock %}

{% block content %}
<div class="py-10">
    <div class="max-w-3xl mx-auto px-4 sm:px-6 lg:px-8">

        <div class="text-center mb-10">
            <div
                class="w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg shadow-green-100">
                <i class="bi bi-heart-fill text-4xl text-green-600"></i>
            </div>
            <h1 class="text-3xl font-bold text-slate-900 mb-4">{{ _('Thank You!') }}</h1>
            <p class="text-xl text-slate-600">{{ _('Your pledge has been recorded successfully') }}</p>
        </div>

        <div class="glass-panel p-8 shadow-2xl border-t-4 border-t-brand-500">
            <h2 class="text-2xl font-bold text-slate-900 mb-6">{{ _('Pledge Confirmation') }}</h2>

            <p class="text-slate-600 mb-8 leading-relaxed">
                {{ _('Your eye donation pledge has been successfully recorded in our system.') }}
                {{ _('Thank you for your noble decision to help restore sight to the blind!') }}
            </p>

            <div class="bg-blue-50 border border-blue-100 rounded-xl p-6 text-center mb-8">
                <div class="text-sm font-semibold text-blue-800 uppercase tracking-widest mb-2">{{ _('Your Reference
                    Number') }}</div>
                <div
                    class="text-3xl font-bold font-mono text-brand-600 tracking-wider bg-white inline-block px-4 py-2 rounded-lg border border-blue-100 shadow-sm">
                    {{ pledge.reference_number }}
                </div>
                <p class="text-xs text-blue-600 mt-3">{{ _('Please save this reference number for your records') }}</p>
            </div>

            <div class="bg-slate-50 border border-slate-100 rounded-xl p-6 mb-8">
                <h4 class="text-lg font-bold text-slate-900 mb-4 border-b border-slate-200 pb-2">{{ _('Pledge Summary')
                    }}</h4>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-y-4 gap-x-8 text-sm">
                    <div>
                        <span class="block text-slate-500 text-xs font-semibold uppercase">{{ _('Name') }}</span>
                        <span class="font-medium text-slate-900">{{ pledge.donor_name }}</span>
                    </div>
                    <div>
                        <span class="block text-slate-500 text-xs font-semibold uppercase">{{ _('City / State')
                            }}</span>
                        <span class="font-medium text-slate-900">{{ pledge.city }}, {{ pledge.state }}</span>
                    </div>
                    <div>
                        <span class="block text-slate-500 text-xs font-semibold uppercase">{{ _('Mobile') }}</span>
                        <span class="font-medium text-slate-900">{{ pledge.donor_mobile or 'N/A' }}</span>
                    </div>
                    <div>
                        <span class="block text-slate-500 text-xs font-semibold uppercase">{{ _('Date of Pledge')
                            }}</span>
                        <span class="font-medium text-slate-900">{{ pledge.date_of_pledge.strftime('%d-%m-%Y') }}</span>
                    </div>
                    <div class="md:col-span-2">
                        <span class="block text-slate-500 text-xs font-semibold uppercase">{{ _('Witness (Next of Kin)')
                            }}</span>
                        <span class="font-medium text-slate-900">{{ pledge.witness1_name }}</span>
                    </div>
                </div>
            </div>

            <div class="bg-amber-50 border-l-4 border-amber-400 p-4 rounded-r-xl mb-8">
                <div class="flex gap-3">
                    <i class="bi bi-exclamation-circle-fill text-amber-500 mt-0.5"></i>
                    <div>
                        <h5 class="font-bold text-amber-800 text-sm mb-1">{{ _('Important Information') }}</h5>
                        <ul class="list-disc list-outside ml-4 text-xs text-amber-900 space-y-1">
                            <li>{{ _('Your family members will be contacted at the time of death based on the contact
                                information you provided') }}</li>
                            <li>{{ _('You can revoke your pledge at any time by contacting us') }}</li>
                            <li>{{ _('The reference number is confidential and personal to you') }}</li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="bg-gray-50 p-6 rounded-xl mb-8 text-sm text-slate-600">
                <h5 class="font-bold text-slate-900 mb-3">{{ _('What Happens Next?') }}</h5>
                <ol class="list-decimal list-outside ml-4 space-y-2">
                    <li>{{ _('Your pledge details are securely stored in our system') }}</li>
                    <li>{{ _('Upon your death, your family will be notified to facilitate eye donation') }}</li>
                    <li>{{ _('Our medical team will handle the removal and processing of eyes') }}</li>
                    <li>{{ _('Your eyes may help restore sight to 2 individuals through corneal transplant') }}</li>
                </ol>
            </div>

            <div class="text-center space-x-3 print:hidden">
                <a href="{{ url_for('view_pledge', ref_num=pledge.reference_number) }}"
                    class="inline-flex items-center gap-2 px-5 py-2.5 bg-sky-100 hover:bg-sky-200 text-sky-800 font-semibold rounded-xl transition-colors">
                    <i class="bi bi-file-text"></i> {{ _('View Details') }}
                </a>
                <a href="{{ url_for('index') }}"
                    class="inline-flex items-center gap-2 px-5 py-2.5 bg-brand-600 hover:bg-brand-700 text-white font-semibold rounded-xl shadow transition-colors">
                    {{ _('Back to Home') }}
                </a>
                <button onclick="window.print()"
                    class="inline-flex items-center gap-2 px-5 py-2.5 border border-slate-200 hover:bg-slate-50 text-slate-600 font-semibold rounded-xl transition-colors">
                    <i class="bi bi-printer"></i> {{ _('Print') }}
                </button>
            </div>

        </div>

        <div class="text-center mt-8 text-sm text-slate-500">
            <p>{{ _('Need help?') }} <a href="mailto:{{ institution_email }}" class="text-brand-600 hover:underline">{{
                    institution_email }}</a></p>
        </div>

    </div>
</div>
{% endblock %}